<!-- table.jsp -->
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<!-- 생략된 부분 -->
<tbody>
    <!-- 이 부분이 수정되었습니다. -->
    <c:choose>
        <c:when test="${not empty listOfPosts}">
            <c:forEach items="${listOfPosts}" var="post">
                <tr>
                    <td>${post.seq}</td>
                    <td>${post.mem_id}</td>
                    <td>${post.mem_name}</td>
                    <td>
                        <a href="listinfo?seq=${post.seq}">${post.board_subject}</a>
                    </td>
                    <td class="date-cell">${formatDate(post.reg_date)}</td>
                    <td class="date-cell">${formatDate(post.upt_date)}</td>
                    <td>${post.view_cnt}</td>
                </tr>
            </c:forEach>
        </c:when>
        <c:otherwise>
            <!-- 데이터가 없는 경우 메시지 추가 -->
            <tr>
                <td colspan="7" class="no-data-message">데이터가 없습니다.</td>
            </tr>
        </c:otherwise>
    </c:choose>
</tbody>

<!-- 이 부분이 추가되었습니다. -->
<script>
    // 날짜 형식 변환 함수
    function formatDate(dateString) {
        // null 체크
        if (dateString === null) {
            return "없음";
        }

        // 받은 날짜 문자열을 Date 객체로 변환
        var date = new Date(dateString);

        // 포맷을 지정해서 반환 (예: YYYY-MM-DD HH:mm:ss)
        var formattedDate = date.toLocaleString('en-US', {
            year: 'numeric',
            month: '2-digit',
            day: '2-digit',
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit'
        });

        return formattedDate;
    }
</script>
